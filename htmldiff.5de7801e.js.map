{"version":3,"sources":["htmldiff.js"],"names":["e","n","t","r","i","f","_","a","o","s","u","h","l","c","d","b","p","test","start_in_before","start_in_after","length","end_in_before","end_in_after","push","Error","g","w","v","k","m","y","find_these","in_these","indexOf","toString","action","slice","join","equal","insert","delete","replace","html_to_tokens","find_matching_blocks","find_match","create_index","calculate_operations","render_operations","define","module","exports","window","htmldiff"],"mappings":"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","file":"htmldiff.5de7801e.js","sourceRoot":"..","sourcesContent":["/**\n * htmldiff.js a diff algorithm that understands HTML, and produces HTML in the browser.\n *\n * @author https://github.com/tnwinc\n * @see https://github.com/tnwinc/htmldiff.js\n */\n!function () { var e, n, t, r, i, f, _, a, o, s, u, h, l, c, d, b, p; o = function (e) { return \">\" === e }, s = function (e) { return \"<\" === e }, h = function (e) { return /^\\s+$/.test(e) }, u = function (e) { return /^\\s*<[^>]+>\\s*$/.test(e) }, l = function (e) { return !u(e) }, e = function () { return function (e, n, t) { this.start_in_before = e, this.start_in_after = n, this.length = t, this.end_in_before = this.start_in_before + this.length - 1, this.end_in_after = this.start_in_after + this.length - 1 } }(), a = function (e) { var n, t, r, i, f, _; for (f = \"char\", t = \"\", _ = [], r = 0, i = e.length; r < i; r++)switch (n = e[r], f) { case \"tag\": o(n) ? (t += \">\", _.push(t), t = \"\", f = h(n) ? \"whitespace\" : \"char\") : t += n; break; case \"char\": s(n) ? (t && _.push(t), t = \"<\", f = \"tag\") : /\\s/.test(n) ? (t && _.push(t), t = n, f = \"whitespace\") : /[\\w\\#@]+/i.test(n) ? t += n : (t && _.push(t), t = n); break; case \"whitespace\": s(n) ? (t && _.push(t), t = \"<\", f = \"tag\") : h(n) ? t += n : (t && _.push(t), t = n, f = \"char\"); break; default: throw new Error(\"Unknown mode \" + f) }return t && _.push(t), _ }, f = function (n, t, r, i, f, _, a) { var o, s, u, h, l, c, d, b, p, g, w, v, k, m, y; for (s = i, o = _, u = 0, w = {}, c = h = m = i, y = f; m <= y ? h < y : h > y; c = m <= y ? ++h : --h) { for (k = {}, d = 0, b = (p = r[n[c]]).length; d < b; d++)if (!((l = p[d]) < _)) { if (l >= a) break; null == w[l - 1] && (w[l - 1] = 0), v = w[l - 1] + 1, k[l] = v, v > u && (s = c - v + 1, o = l - v + 1, u = v) } w = k } return 0 !== u && (g = new e(s, o, u)), g }, d = function (e, n, t, r, i, _, a, o) { var s; return null != (s = f(e, 0, t, r, i, _, a)) && (r < s.start_in_before && _ < s.start_in_after && d(e, n, t, r, s.start_in_before, _, s.start_in_after, o), o.push(s), s.end_in_before <= i && s.end_in_after <= a && d(e, n, t, s.end_in_before + 1, i, s.end_in_after + 1, a, o)), o }, r = function (e) { var n, t, r, i, f, _; if (null == e.find_these) throw new Error(\"params must have find_these key\"); if (null == e.in_these) throw new Error(\"params must have in_these key\"); for (r = {}, n = 0, i = (f = e.find_these).length; n < i; n++)for (r[_ = f[n]] = [], t = e.in_these.indexOf(_); -1 !== t;)r[_].push(t), t = e.in_these.indexOf(_, t + 1); return r }, _ = function (e, n) { var t, i; return i = [], t = r({ find_these: e, in_these: n }), d(e, n, t, 0, e.length, 0, n.length, i) }, n = function (n, t) { var r, i, f, a, o, s, u, h, l, c, d, b, p, g, w, v; if (null == n) throw new Error(\"before_tokens?\"); if (null == t) throw new Error(\"after_tokens?\"); for (w = g = 0, p = [], r = { \"false,false\": \"replace\", \"true,false\": \"insert\", \"false,true\": \"delete\", \"true,true\": \"none\" }, (d = _(n, t)).push(new e(n.length, t.length, 0)), a = f = 0, h = d.length; f < h; a = ++f)\"none\" !== (i = r[[w === (c = d[a]).start_in_before, g === c.start_in_after].toString()]) && p.push({ action: i, start_in_before: w, end_in_before: \"insert\" !== i ? c.start_in_before - 1 : void 0, start_in_after: g, end_in_after: \"delete\" !== i ? c.start_in_after - 1 : void 0 }), 0 !== c.length && p.push({ action: \"equal\", start_in_before: c.start_in_before, end_in_before: c.end_in_before, start_in_after: c.start_in_after, end_in_after: c.end_in_after }), w = c.end_in_before + 1, g = c.end_in_after + 1; for (v = [], u = { action: \"none\" }, o = function (e) { return \"equal\" === e.action && (e.end_in_before - e.start_in_before == 0 && /^\\s$/.test(n.slice(e.start_in_before, +e.end_in_before + 1 || 9e9))) }, s = 0, l = p.length; s < l; s++)o(b = p[s]) && \"replace\" === u.action || \"replace\" === b.action && \"replace\" === u.action ? (u.end_in_before = b.end_in_before, u.end_in_after = b.end_in_after) : (v.push(b), u = b); return v }, t = function (e, n, t) { var r, i, f, _, a, o; for (_ = void 0, f = i = 0, a = (n = n.slice(e, +n.length + 1 || 9e9)).length; i < a && (o = n[f], !0 === (r = t(o)) && (_ = f), !1 !== r); f = ++i); return null != _ ? n.slice(0, +_ + 1 || 9e9) : [] }, p = function (e, n) { var r, i, f, _, a; for (_ = \"\", f = 0, r = n.length; ;) { if (f >= r) break; if (i = t(f, n, l), f += i.length, 0 !== i.length && (_ += \"<\" + e + \">\" + i.join(\"\") + \"</\" + e + \">\"), f >= r) break; f += (a = t(f, n, u)).length, _ += a.join(\"\") } return _ }, (c = { equal: function (e, n, t) { return n.slice(e.start_in_before, +e.end_in_before + 1 || 9e9).join(\"\") }, insert: function (e, n, t) { var r; return r = t.slice(e.start_in_after, +e.end_in_after + 1 || 9e9), p(\"ins\", r) }, delete: function (e, n, t) { var r; return r = n.slice(e.start_in_before, +e.end_in_before + 1 || 9e9), p(\"del\", r) } }).replace = function (e, n, t) { return c.delete(e, n, t) + c.insert(e, n, t) }, b = function (e, n, t) { var r, i, f, _; for (_ = \"\", r = 0, i = t.length; r < i; r++)f = t[r], _ += c[f.action](f, e, n); return _ }, (i = function (e, t) { var r; return e === t ? e : (e = a(e), t = a(t), r = n(e, t), b(e, t, r)) }).html_to_tokens = a, i.find_matching_blocks = _, _.find_match = f, _.create_index = r, i.calculate_operations = n, i.render_operations = b, \"function\" == typeof define ? define([], function () { return i }) : \"undefined\" != typeof module && null !== module ? module.exports = i : \"undefined\" != typeof window && (window.htmldiff = i) }();"]}