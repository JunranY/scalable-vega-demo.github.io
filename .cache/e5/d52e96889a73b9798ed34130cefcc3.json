{"id":"LbzD","dependencies":[{"name":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/util/recordbatch.js.map","includedInParent":true,"mtime":1620712940685},{"name":"/Users/yangjunran/Desktop/github/sv-demo/package.json","includedInParent":true,"mtime":1620836303330},{"name":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/package.json","includedInParent":true,"mtime":1620712940685},{"name":"../data","loc":{"line":20,"column":23},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/util/recordbatch.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/data.js"},{"name":"../schema","loc":{"line":21,"column":25},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/util/recordbatch.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/schema.js"},{"name":"../vector/chunked","loc":{"line":22,"column":26},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/util/recordbatch.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/vector/chunked.js"},{"name":"../recordbatch","loc":{"line":23,"column":30},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/util/recordbatch.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/recordbatch.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.distributeVectorsIntoRecordBatches=exports.distributeColumnsIntoRecordBatches=exports.ensureSameLengthData=void 0;const e=require(\"../data\"),t=require(\"../schema\"),n=require(\"../vector/chunked\"),a=require(\"../recordbatch\"),r=new Uint8Array(0),c=e=>[r,r,new Uint8Array(e),r];function l(n,a,r=a.reduce((e,t)=>Math.max(e,t.length),0)){let l,s,o=-1;const u=a.length,i=[...n.fields],h=[],d=(r+63&-64)>>3;for(;++o<u;)(l=a[o])&&l.length===r?h[o]=l:((s=i[o]).nullable||(i[o]=i[o].clone({nullable:!0})),h[o]=l?l._changeLengthAndBackfillNullBitmap(r):e.Data.new(s.type,0,r,r,c(d)));return[new t.Schema(i),r,h]}function s(e){return o(new t.Schema(e.map(({field:e})=>e)),e)}function o(e,t){return u(e,t.map(e=>e instanceof n.Chunked?e.chunks.map(e=>e.data):[e.data]))}function u(e,n){const r=[...e.fields],c=[],l={numBatches:n.reduce((e,t)=>Math.max(e,t.length),0)};let s=0,o=0,u=-1;const h=n.length;let d,m=[];for(;l.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,u=-1;++u<h;)m[u]=d=n[u].shift(),o=Math.min(o,d?d.length:o);isFinite(o)&&(m=i(r,o,m,n,l),o>0&&(c[s++]=[o,m.slice()]))}return[e=new t.Schema(r,e.metadata),c.map(t=>new a.RecordBatch(e,...t))]}function i(t,n,a,r,l){let s,o,u=0,i=-1;const h=r.length,d=(n+63&-64)>>3;for(;++i<h;)(s=a[i])&&(u=s.length)>=n?u===n?a[i]=s:(a[i]=s.slice(0,n),s=s.slice(n,u-n),l.numBatches=Math.max(l.numBatches,r[i].unshift(s))):((o=t[i]).nullable||(t[i]=o.clone({nullable:!0})),a[i]=s?s._changeLengthAndBackfillNullBitmap(n):e.Data.new(o.type,0,n,n,c(d)));return a}exports.ensureSameLengthData=l,exports.distributeColumnsIntoRecordBatches=s,exports.distributeVectorsIntoRecordBatches=o;"},"sourceMaps":{"js":{"mappings":[{"source":"util/recordbatch.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":190}},{"source":"util/recordbatch.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":196}},{"source":"util/recordbatch.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":198}},{"source":"util/recordbatch.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":206}},{"source":"util/recordbatch.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":217}},{"source":"util/recordbatch.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":219}},{"source":"util/recordbatch.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":227}},{"source":"util/recordbatch.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":240}},{"source":"util/recordbatch.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":242}},{"source":"util/recordbatch.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":250}},{"source":"util/recordbatch.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":271}},{"source":"util/recordbatch.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":273}},{"source":"util/recordbatch.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":281}},{"source":"util/recordbatch.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":1,"column":299}},{"source":"util/recordbatch.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":301}},{"source":"util/recordbatch.ts","name":null,"original":{"line":26,"column":20},"generated":{"line":1,"column":305}},{"source":"util/recordbatch.ts","name":null,"original":{"line":26,"column":31},"generated":{"line":1,"column":316}},{"source":"util/recordbatch.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":1,"column":319}},{"source":"util/recordbatch.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":321}},{"source":"util/recordbatch.ts","name":null,"original":{"line":27,"column":53},"generated":{"line":1,"column":324}},{"source":"util/recordbatch.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":325}},{"source":"util/recordbatch.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":327}},{"source":"util/recordbatch.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":1,"column":329}},{"source":"util/recordbatch.ts","name":null,"original":{"line":28,"column":26},"generated":{"line":1,"column":333}},{"source":"util/recordbatch.ts","name":null,"original":{"line":28,"column":37},"generated":{"line":1,"column":344}},{"source":"util/recordbatch.ts","name":null,"original":{"line":28,"column":52},"generated":{"line":1,"column":347}},{"source":"util/recordbatch.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":1,"column":350}},{"source":"util/recordbatch.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":1,"column":359}},{"source":"util/recordbatch.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":361}},{"source":"util/recordbatch.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":363}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":365}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":18},"generated":{"line":1,"column":367}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":25},"generated":{"line":1,"column":369}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":32},"generated":{"line":1,"column":376}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":33},"generated":{"line":1,"column":377}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":36},"generated":{"line":1,"column":379}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":42},"generated":{"line":1,"column":383}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":47},"generated":{"line":1,"column":388}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":51},"generated":{"line":1,"column":392}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":54},"generated":{"line":1,"column":394}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":56},"generated":{"line":1,"column":396}},{"source":"util/recordbatch.ts","name":null,"original":{"line":35,"column":65},"generated":{"line":1,"column":404}},{"source":"util/recordbatch.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":1,"column":408}},{"source":"util/recordbatch.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":412}},{"source":"util/recordbatch.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":414}},{"source":"util/recordbatch.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":416}},{"source":"util/recordbatch.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":419}},{"source":"util/recordbatch.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":421}},{"source":"util/recordbatch.ts","name":null,"original":{"line":40,"column":10},"generated":{"line":1,"column":427}},{"source":"util/recordbatch.ts","name":null,"original":{"line":40,"column":14},"generated":{"line":1,"column":429}},{"source":"util/recordbatch.ts","name":null,"original":{"line":40,"column":21},"generated":{"line":1,"column":431}},{"source":"util/recordbatch.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":438}},{"source":"util/recordbatch.ts","name":null,"original":{"line":41,"column":19},"generated":{"line":1,"column":440}},{"source":"util/recordbatch.ts","name":null,"original":{"line":41,"column":23},"generated":{"line":1,"column":444}},{"source":"util/recordbatch.ts","name":null,"original":{"line":41,"column":30},"generated":{"line":1,"column":446}},{"source":"util/recordbatch.ts","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":454}},{"source":"util/recordbatch.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":456}},{"source":"util/recordbatch.ts","name":null,"original":{"line":43,"column":10},"generated":{"line":1,"column":459}},{"source":"util/recordbatch.ts","name":null,"original":{"line":43,"column":27},"generated":{"line":1,"column":462}},{"source":"util/recordbatch.ts","name":null,"original":{"line":43,"column":41},"generated":{"line":1,"column":464}},{"source":"util/recordbatch.ts","name":null,"original":{"line":43,"column":47},"generated":{"line":1,"column":468}},{"source":"util/recordbatch.ts","name":null,"original":{"line":43,"column":55},"generated":{"line":1,"column":473}},{"source":"util/recordbatch.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":475}},{"source":"util/recordbatch.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":482}},{"source":"util/recordbatch.ts","name":null,"original":{"line":44,"column":17},"generated":{"line":1,"column":484}},{"source":"util/recordbatch.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":488}},{"source":"util/recordbatch.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":1,"column":490}},{"source":"util/recordbatch.ts","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":492}},{"source":"util/recordbatch.ts","name":null,"original":{"line":45,"column":34},"generated":{"line":1,"column":497}},{"source":"util/recordbatch.ts","name":null,"original":{"line":45,"column":39},"generated":{"line":1,"column":499}},{"source":"util/recordbatch.ts","name":null,"original":{"line":45,"column":50},"generated":{"line":1,"column":508}},{"source":"util/recordbatch.ts","name":null,"original":{"line":46,"column":12},"generated":{"line":1,"column":510}},{"source":"util/recordbatch.ts","name":null,"original":{"line":46,"column":22},"generated":{"line":1,"column":512}},{"source":"util/recordbatch.ts","name":null,"original":{"line":46,"column":27},"generated":{"line":1,"column":515}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":13},"generated":{"line":1,"column":519}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":1,"column":521}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":28},"generated":{"line":1,"column":523}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":32},"generated":{"line":1,"column":527}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":45},"generated":{"line":1,"column":538}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":52},"generated":{"line":1,"column":540}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":57},"generated":{"line":1,"column":543}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":64},"generated":{"line":1,"column":545}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":67},"generated":{"line":1,"column":548}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":73},"generated":{"line":1,"column":554}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":75},"generated":{"line":1,"column":555}},{"source":"util/recordbatch.ts","name":null,"original":{"line":48,"column":85},"generated":{"line":1,"column":565}},{"source":"util/recordbatch.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":570}},{"source":"util/recordbatch.ts","name":null,"original":{"line":49,"column":22},"generated":{"line":1,"column":572}},{"source":"util/recordbatch.ts","name":null,"original":{"line":49,"column":27},"generated":{"line":1,"column":575}},{"source":"util/recordbatch.ts","name":null,"original":{"line":49,"column":34},"generated":{"line":1,"column":577}},{"source":"util/recordbatch.ts","name":null,"original":{"line":49,"column":39},"generated":{"line":1,"column":579}},{"source":"util/recordbatch.ts","name":null,"original":{"line":49,"column":74},"generated":{"line":1,"column":614}},{"source":"util/recordbatch.ts","name":null,"original":{"line":50,"column":18},"generated":{"line":1,"column":617}},{"source":"util/recordbatch.ts","name":null,"original":{"line":50,"column":18},"generated":{"line":1,"column":619}},{"source":"util/recordbatch.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":1,"column":624}},{"source":"util/recordbatch.ts","name":null,"original":{"line":50,"column":27},"generated":{"line":1,"column":628}},{"source":"util/recordbatch.ts","name":null,"original":{"line":50,"column":33},"generated":{"line":1,"column":630}},{"source":"util/recordbatch.ts","name":null,"original":{"line":50,"column":39},"generated":{"line":1,"column":635}},{"source":"util/recordbatch.ts","name":null,"original":{"line":50,"column":42},"generated":{"line":1,"column":637}},{"source":"util/recordbatch.ts","name":null,"original":{"line":50,"column":55},"generated":{"line":1,"column":639}},{"source":"util/recordbatch.ts","name":null,"original":{"line":50,"column":68},"generated":{"line":1,"column":641}},{"source":"util/recordbatch.ts","name":null,"original":{"line":50,"column":77},"generated":{"line":1,"column":643}},{"source":"util/recordbatch.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":648}},{"source":"util/recordbatch.ts","name":null,"original":{"line":53,"column":11},"generated":{"line":1,"column":654}},{"source":"util/recordbatch.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":655}},{"source":"util/recordbatch.ts","name":null,"original":{"line":53,"column":16},"generated":{"line":1,"column":659}},{"source":"util/recordbatch.ts","name":null,"original":{"line":53,"column":16},"generated":{"line":1,"column":661}},{"source":"util/recordbatch.ts","name":null,"original":{"line":53,"column":26},"generated":{"line":1,"column":668}},{"source":"util/recordbatch.ts","name":null,"original":{"line":53,"column":35},"generated":{"line":1,"column":671}},{"source":"util/recordbatch.ts","name":null,"original":{"line":53,"column":48},"generated":{"line":1,"column":673}},{"source":"util/recordbatch.ts","name":null,"original":{"line":57,"column":0},"generated":{"line":1,"column":676}},{"source":"util/recordbatch.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":685}},{"source":"util/recordbatch.ts","name":null,"original":{"line":57,"column":96},"generated":{"line":1,"column":687}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":690}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":11},"generated":{"line":1,"column":697}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":49},"generated":{"line":1,"column":699}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":53},"generated":{"line":1,"column":703}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":53},"generated":{"line":1,"column":705}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":63},"generated":{"line":1,"column":712}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":71},"generated":{"line":1,"column":714}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":75},"generated":{"line":1,"column":718}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":78},"generated":{"line":1,"column":720}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":78},"generated":{"line":1,"column":726}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":90},"generated":{"line":1,"column":731}},{"source":"util/recordbatch.ts","name":null,"original":{"line":58,"column":99},"generated":{"line":1,"column":735}},{"source":"util/recordbatch.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":738}},{"source":"util/recordbatch.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":747}},{"source":"util/recordbatch.ts","name":null,"original":{"line":62,"column":96},"generated":{"line":1,"column":749}},{"source":"util/recordbatch.ts","name":null,"original":{"line":62,"column":115},"generated":{"line":1,"column":751}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":1,"column":754}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":11},"generated":{"line":1,"column":761}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":59},"generated":{"line":1,"column":763}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":67},"generated":{"line":1,"column":765}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":72},"generated":{"line":1,"column":767}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":77},"generated":{"line":1,"column":771}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":83},"generated":{"line":1,"column":774}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":96},"generated":{"line":1,"column":787}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":96},"generated":{"line":1,"column":789}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":106},"generated":{"line":1,"column":797}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":108},"generated":{"line":1,"column":799}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":115},"generated":{"line":1,"column":806}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":120},"generated":{"line":1,"column":810}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":126},"generated":{"line":1,"column":813}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":128},"generated":{"line":1,"column":815}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":136},"generated":{"line":1,"column":821}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":137},"generated":{"line":1,"column":822}},{"source":"util/recordbatch.ts","name":null,"original":{"line":63,"column":139},"generated":{"line":1,"column":824}},{"source":"util/recordbatch.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":832}},{"source":"util/recordbatch.ts","name":null,"original":{"line":67,"column":9},"generated":{"line":1,"column":841}},{"source":"util/recordbatch.ts","name":null,"original":{"line":67,"column":99},"generated":{"line":1,"column":843}},{"source":"util/recordbatch.ts","name":null,"original":{"line":67,"column":118},"generated":{"line":1,"column":845}},{"source":"util/recordbatch.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":848}},{"source":"util/recordbatch.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":1,"column":854}},{"source":"util/recordbatch.ts","name":null,"original":{"line":69,"column":19},"generated":{"line":1,"column":856}},{"source":"util/recordbatch.ts","name":null,"original":{"line":69,"column":23},"generated":{"line":1,"column":860}},{"source":"util/recordbatch.ts","name":null,"original":{"line":69,"column":30},"generated":{"line":1,"column":862}},{"source":"util/recordbatch.ts","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":870}},{"source":"util/recordbatch.ts","name":null,"original":{"line":70,"column":22},"generated":{"line":1,"column":872}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":10},"generated":{"line":1,"column":875}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":17},"generated":{"line":1,"column":877}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":19},"generated":{"line":1,"column":878}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":31},"generated":{"line":1,"column":889}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":39},"generated":{"line":1,"column":891}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":46},"generated":{"line":1,"column":898}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":47},"generated":{"line":1,"column":899}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":50},"generated":{"line":1,"column":901}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":56},"generated":{"line":1,"column":905}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":61},"generated":{"line":1,"column":910}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":65},"generated":{"line":1,"column":914}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":68},"generated":{"line":1,"column":916}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":70},"generated":{"line":1,"column":918}},{"source":"util/recordbatch.ts","name":null,"original":{"line":71,"column":79},"generated":{"line":1,"column":926}},{"source":"util/recordbatch.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":930}},{"source":"util/recordbatch.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":934}},{"source":"util/recordbatch.ts","name":null,"original":{"line":73,"column":21},"generated":{"line":1,"column":936}},{"source":"util/recordbatch.ts","name":null,"original":{"line":73,"column":24},"generated":{"line":1,"column":938}},{"source":"util/recordbatch.ts","name":null,"original":{"line":73,"column":38},"generated":{"line":1,"column":940}},{"source":"util/recordbatch.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":942}},{"source":"util/recordbatch.ts","name":null,"original":{"line":74,"column":13},"generated":{"line":1,"column":945}},{"source":"util/recordbatch.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":1,"column":947}},{"source":"util/recordbatch.ts","name":null,"original":{"line":75,"column":10},"generated":{"line":1,"column":953}},{"source":"util/recordbatch.ts","name":null,"original":{"line":75,"column":23},"generated":{"line":1,"column":955}},{"source":"util/recordbatch.ts","name":null,"original":{"line":75,"column":31},"generated":{"line":1,"column":957}},{"source":"util/recordbatch.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":1,"column":964}},{"source":"util/recordbatch.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":1,"column":968}},{"source":"util/recordbatch.ts","name":null,"original":{"line":76,"column":33},"generated":{"line":1,"column":970}},{"source":"util/recordbatch.ts","name":null,"original":{"line":76,"column":65},"generated":{"line":1,"column":972}},{"source":"util/recordbatch.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":1,"column":975}},{"source":"util/recordbatch.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":1,"column":980}},{"source":"util/recordbatch.ts","name":null,"original":{"line":78,"column":16},"generated":{"line":1,"column":982}},{"source":"util/recordbatch.ts","name":null,"original":{"line":78,"column":31},"generated":{"line":1,"column":996}},{"source":"util/recordbatch.ts","name":null,"original":{"line":78,"column":34},"generated":{"line":1,"column":999}},{"source":"util/recordbatch.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":1000}},{"source":"util/recordbatch.ts","name":null,"original":{"line":80,"column":13},"generated":{"line":1,"column":1004}},{"source":"util/recordbatch.ts","name":null,"original":{"line":80,"column":27},"generated":{"line":1,"column":1006}},{"source":"util/recordbatch.ts","name":null,"original":{"line":80,"column":34},"generated":{"line":1,"column":1013}},{"source":"util/recordbatch.ts","name":null,"original":{"line":80,"column":53},"generated":{"line":1,"column":1031}},{"source":"util/recordbatch.ts","name":null,"original":{"line":80,"column":58},"generated":{"line":1,"column":1034}},{"source":"util/recordbatch.ts","name":null,"original":{"line":80,"column":63},"generated":{"line":1,"column":1038}},{"source":"util/recordbatch.ts","name":null,"original":{"line":80,"column":67},"generated":{"line":1,"column":1040}},{"source":"util/recordbatch.ts","name":null,"original":{"line":81,"column":12},"generated":{"line":1,"column":1043}},{"source":"util/recordbatch.ts","name":null,"original":{"line":81,"column":22},"generated":{"line":1,"column":1045}},{"source":"util/recordbatch.ts","name":null,"original":{"line":81,"column":27},"generated":{"line":1,"column":1048}},{"source":"util/recordbatch.ts","name":null,"original":{"line":81,"column":35},"generated":{"line":1,"column":1050}},{"source":"util/recordbatch.ts","name":null,"original":{"line":81,"column":43},"generated":{"line":1,"column":1052}},{"source":"util/recordbatch.ts","name":null,"original":{"line":81,"column":46},"generated":{"line":1,"column":1055}},{"source":"util/recordbatch.ts","name":null,"original":{"line":82,"column":12},"generated":{"line":1,"column":1063}},{"source":"util/recordbatch.ts","name":null,"original":{"line":82,"column":26},"generated":{"line":1,"column":1065}},{"source":"util/recordbatch.ts","name":null,"original":{"line":82,"column":31},"generated":{"line":1,"column":1070}},{"source":"util/recordbatch.ts","name":null,"original":{"line":82,"column":35},"generated":{"line":1,"column":1074}},{"source":"util/recordbatch.ts","name":null,"original":{"line":82,"column":48},"generated":{"line":1,"column":1076}},{"source":"util/recordbatch.ts","name":null,"original":{"line":82,"column":56},"generated":{"line":1,"column":1078}},{"source":"util/recordbatch.ts","name":null,"original":{"line":82,"column":62},"generated":{"line":1,"column":1080}},{"source":"util/recordbatch.ts","name":null,"original":{"line":82,"column":71},"generated":{"line":1,"column":1087}},{"source":"util/recordbatch.ts","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":1090}},{"source":"util/recordbatch.ts","name":null,"original":{"line":85,"column":21},"generated":{"line":1,"column":1099}},{"source":"util/recordbatch.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":1,"column":1104}},{"source":"util/recordbatch.ts","name":null,"original":{"line":86,"column":24},"generated":{"line":1,"column":1106}},{"source":"util/recordbatch.ts","name":null,"original":{"line":86,"column":44},"generated":{"line":1,"column":1108}},{"source":"util/recordbatch.ts","name":null,"original":{"line":86,"column":52},"generated":{"line":1,"column":1110}},{"source":"util/recordbatch.ts","name":null,"original":{"line":86,"column":65},"generated":{"line":1,"column":1112}},{"source":"util/recordbatch.ts","name":null,"original":{"line":86,"column":76},"generated":{"line":1,"column":1114}},{"source":"util/recordbatch.ts","name":null,"original":{"line":86,"column":85},"generated":{"line":1,"column":1116}},{"source":"util/recordbatch.ts","name":null,"original":{"line":87,"column":16},"generated":{"line":1,"column":1119}},{"source":"util/recordbatch.ts","name":null,"original":{"line":87,"column":30},"generated":{"line":1,"column":1121}},{"source":"util/recordbatch.ts","name":null,"original":{"line":88,"column":16},"generated":{"line":1,"column":1125}},{"source":"util/recordbatch.ts","name":null,"original":{"line":88,"column":26},"generated":{"line":1,"column":1127}},{"source":"util/recordbatch.ts","name":null,"original":{"line":88,"column":42},"generated":{"line":1,"column":1132}},{"source":"util/recordbatch.ts","name":null,"original":{"line":88,"column":43},"generated":{"line":1,"column":1133}},{"source":"util/recordbatch.ts","name":null,"original":{"line":88,"column":56},"generated":{"line":1,"column":1135}},{"source":"util/recordbatch.ts","name":null,"original":{"line":88,"column":66},"generated":{"line":1,"column":1137}},{"source":"util/recordbatch.ts","name":null,"original":{"line":92,"column":4},"generated":{"line":1,"column":1148}},{"source":"util/recordbatch.ts","name":null,"original":{"line":92,"column":11},"generated":{"line":1,"column":1154}},{"source":"util/recordbatch.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":1155}},{"source":"util/recordbatch.ts","name":null,"original":{"line":93,"column":17},"generated":{"line":1,"column":1157}},{"source":"util/recordbatch.ts","name":null,"original":{"line":93,"column":21},"generated":{"line":1,"column":1161}},{"source":"util/recordbatch.ts","name":null,"original":{"line":93,"column":21},"generated":{"line":1,"column":1163}},{"source":"util/recordbatch.ts","name":null,"original":{"line":93,"column":31},"generated":{"line":1,"column":1170}},{"source":"util/recordbatch.ts","name":null,"original":{"line":93,"column":39},"generated":{"line":1,"column":1172}},{"source":"util/recordbatch.ts","name":null,"original":{"line":93,"column":46},"generated":{"line":1,"column":1174}},{"source":"util/recordbatch.ts","name":null,"original":{"line":94,"column":8},"generated":{"line":1,"column":1184}},{"source":"util/recordbatch.ts","name":null,"original":{"line":94,"column":18},"generated":{"line":1,"column":1186}},{"source":"util/recordbatch.ts","name":null,"original":{"line":94,"column":23},"generated":{"line":1,"column":1190}},{"source":"util/recordbatch.ts","name":null,"original":{"line":94,"column":30},"generated":{"line":1,"column":1193}},{"source":"util/recordbatch.ts","name":null,"original":{"line":94,"column":34},"generated":{"line":1,"column":1197}},{"source":"util/recordbatch.ts","name":null,"original":{"line":94,"column":34},"generated":{"line":1,"column":1199}},{"source":"util/recordbatch.ts","name":null,"original":{"line":94,"column":46},"generated":{"line":1,"column":1211}},{"source":"util/recordbatch.ts","name":null,"original":{"line":94,"column":57},"generated":{"line":1,"column":1216}},{"source":"util/recordbatch.ts","name":null,"original":{"line":99,"column":0},"generated":{"line":1,"column":1221}},{"source":"util/recordbatch.ts","name":null,"original":{"line":99,"column":9},"generated":{"line":1,"column":1230}},{"source":"util/recordbatch.ts","name":null,"original":{"line":99,"column":74},"generated":{"line":1,"column":1232}},{"source":"util/recordbatch.ts","name":null,"original":{"line":99,"column":103},"generated":{"line":1,"column":1234}},{"source":"util/recordbatch.ts","name":null,"original":{"line":99,"column":124},"generated":{"line":1,"column":1236}},{"source":"util/recordbatch.ts","name":null,"original":{"line":99,"column":155},"generated":{"line":1,"column":1238}},{"source":"util/recordbatch.ts","name":null,"original":{"line":99,"column":186},"generated":{"line":1,"column":1240}},{"source":"util/recordbatch.ts","name":null,"original":{"line":100,"column":4},"generated":{"line":1,"column":1243}},{"source":"util/recordbatch.ts","name":null,"original":{"line":100,"column":8},"generated":{"line":1,"column":1247}},{"source":"util/recordbatch.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":1249}},{"source":"util/recordbatch.ts","name":null,"original":{"line":102,"column":8},"generated":{"line":1,"column":1251}},{"source":"util/recordbatch.ts","name":null,"original":{"line":102,"column":17},"generated":{"line":1,"column":1253}},{"source":"util/recordbatch.ts","name":null,"original":{"line":102,"column":20},"generated":{"line":1,"column":1255}},{"source":"util/recordbatch.ts","name":null,"original":{"line":102,"column":25},"generated":{"line":1,"column":1258}},{"source":"util/recordbatch.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":1,"column":1260}},{"source":"util/recordbatch.ts","name":null,"original":{"line":103,"column":10},"generated":{"line":1,"column":1266}},{"source":"util/recordbatch.ts","name":null,"original":{"line":103,"column":14},"generated":{"line":1,"column":1268}},{"source":"util/recordbatch.ts","name":null,"original":{"line":103,"column":22},"generated":{"line":1,"column":1270}},{"source":"util/recordbatch.ts","name":null,"original":{"line":104,"column":10},"generated":{"line":1,"column":1277}},{"source":"util/recordbatch.ts","name":null,"original":{"line":104,"column":27},"generated":{"line":1,"column":1280}},{"source":"util/recordbatch.ts","name":null,"original":{"line":104,"column":41},"generated":{"line":1,"column":1282}},{"source":"util/recordbatch.ts","name":null,"original":{"line":104,"column":47},"generated":{"line":1,"column":1286}},{"source":"util/recordbatch.ts","name":null,"original":{"line":104,"column":55},"generated":{"line":1,"column":1291}},{"source":"util/recordbatch.ts","name":null,"original":{"line":105,"column":4},"generated":{"line":1,"column":1293}},{"source":"util/recordbatch.ts","name":null,"original":{"line":105,"column":13},"generated":{"line":1,"column":1300}},{"source":"util/recordbatch.ts","name":null,"original":{"line":105,"column":17},"generated":{"line":1,"column":1302}},{"source":"util/recordbatch.ts","name":null,"original":{"line":106,"column":13},"generated":{"line":1,"column":1306}},{"source":"util/recordbatch.ts","name":null,"original":{"line":106,"column":20},"generated":{"line":1,"column":1308}},{"source":"util/recordbatch.ts","name":null,"original":{"line":106,"column":30},"generated":{"line":1,"column":1310}},{"source":"util/recordbatch.ts","name":null,"original":{"line":106,"column":39},"generated":{"line":1,"column":1316}},{"source":"util/recordbatch.ts","name":null,"original":{"line":106,"column":48},"generated":{"line":1,"column":1318}},{"source":"util/recordbatch.ts","name":null,"original":{"line":106,"column":53},"generated":{"line":1,"column":1320}},{"source":"util/recordbatch.ts","name":null,"original":{"line":106,"column":64},"generated":{"line":1,"column":1329}},{"source":"util/recordbatch.ts","name":null,"original":{"line":107,"column":16},"generated":{"line":1,"column":1331}},{"source":"util/recordbatch.ts","name":null,"original":{"line":107,"column":27},"generated":{"line":1,"column":1335}},{"source":"util/recordbatch.ts","name":null,"original":{"line":108,"column":16},"generated":{"line":1,"column":1337}},{"source":"util/recordbatch.ts","name":null,"original":{"line":108,"column":26},"generated":{"line":1,"column":1339}},{"source":"util/recordbatch.ts","name":null,"original":{"line":108,"column":31},"generated":{"line":1,"column":1342}},{"source":"util/recordbatch.ts","name":null,"original":{"line":110,"column":16},"generated":{"line":1,"column":1345}},{"source":"util/recordbatch.ts","name":null,"original":{"line":110,"column":26},"generated":{"line":1,"column":1347}},{"source":"util/recordbatch.ts","name":null,"original":{"line":110,"column":31},"generated":{"line":1,"column":1350}},{"source":"util/recordbatch.ts","name":null,"original":{"line":110,"column":36},"generated":{"line":1,"column":1352}},{"source":"util/recordbatch.ts","name":null,"original":{"line":110,"column":42},"generated":{"line":1,"column":1358}},{"source":"util/recordbatch.ts","name":null,"original":{"line":110,"column":45},"generated":{"line":1,"column":1360}},{"source":"util/recordbatch.ts","name":null,"original":{"line":111,"column":16},"generated":{"line":1,"column":1363}},{"source":"util/recordbatch.ts","name":null,"original":{"line":111,"column":23},"generated":{"line":1,"column":1365}},{"source":"util/recordbatch.ts","name":null,"original":{"line":111,"column":28},"generated":{"line":1,"column":1367}},{"source":"util/recordbatch.ts","name":null,"original":{"line":111,"column":34},"generated":{"line":1,"column":1373}},{"source":"util/recordbatch.ts","name":null,"original":{"line":111,"column":47},"generated":{"line":1,"column":1375}},{"source":"util/recordbatch.ts","name":null,"original":{"line":111,"column":56},"generated":{"line":1,"column":1377}},{"source":"util/recordbatch.ts","name":null,"original":{"line":112,"column":16},"generated":{"line":1,"column":1380}},{"source":"util/recordbatch.ts","name":null,"original":{"line":112,"column":21},"generated":{"line":1,"column":1382}},{"source":"util/recordbatch.ts","name":null,"original":{"line":112,"column":34},"generated":{"line":1,"column":1393}},{"source":"util/recordbatch.ts","name":null,"original":{"line":112,"column":39},"generated":{"line":1,"column":1398}},{"source":"util/recordbatch.ts","name":null,"original":{"line":112,"column":43},"generated":{"line":1,"column":1402}},{"source":"util/recordbatch.ts","name":null,"original":{"line":112,"column":48},"generated":{"line":1,"column":1404}},{"source":"util/recordbatch.ts","name":null,"original":{"line":112,"column":60},"generated":{"line":1,"column":1415}},{"source":"util/recordbatch.ts","name":null,"original":{"line":112,"column":68},"generated":{"line":1,"column":1417}},{"source":"util/recordbatch.ts","name":null,"original":{"line":112,"column":71},"generated":{"line":1,"column":1420}},{"source":"util/recordbatch.ts","name":null,"original":{"line":112,"column":79},"generated":{"line":1,"column":1428}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":13},"generated":{"line":1,"column":1435}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":21},"generated":{"line":1,"column":1437}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":28},"generated":{"line":1,"column":1439}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":32},"generated":{"line":1,"column":1443}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":45},"generated":{"line":1,"column":1454}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":52},"generated":{"line":1,"column":1456}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":57},"generated":{"line":1,"column":1459}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":63},"generated":{"line":1,"column":1461}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":69},"generated":{"line":1,"column":1467}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":71},"generated":{"line":1,"column":1468}},{"source":"util/recordbatch.ts","name":null,"original":{"line":115,"column":81},"generated":{"line":1,"column":1478}},{"source":"util/recordbatch.ts","name":null,"original":{"line":116,"column":12},"generated":{"line":1,"column":1483}},{"source":"util/recordbatch.ts","name":null,"original":{"line":116,"column":22},"generated":{"line":1,"column":1485}},{"source":"util/recordbatch.ts","name":null,"original":{"line":116,"column":27},"generated":{"line":1,"column":1488}},{"source":"util/recordbatch.ts","name":null,"original":{"line":116,"column":34},"generated":{"line":1,"column":1490}},{"source":"util/recordbatch.ts","name":null,"original":{"line":116,"column":39},"generated":{"line":1,"column":1492}},{"source":"util/recordbatch.ts","name":null,"original":{"line":116,"column":74},"generated":{"line":1,"column":1527}},{"source":"util/recordbatch.ts","name":null,"original":{"line":117,"column":18},"generated":{"line":1,"column":1530}},{"source":"util/recordbatch.ts","name":null,"original":{"line":117,"column":18},"generated":{"line":1,"column":1532}},{"source":"util/recordbatch.ts","name":null,"original":{"line":117,"column":23},"generated":{"line":1,"column":1537}},{"source":"util/recordbatch.ts","name":null,"original":{"line":117,"column":27},"generated":{"line":1,"column":1541}},{"source":"util/recordbatch.ts","name":null,"original":{"line":117,"column":33},"generated":{"line":1,"column":1543}},{"source":"util/recordbatch.ts","name":null,"original":{"line":117,"column":39},"generated":{"line":1,"column":1548}},{"source":"util/recordbatch.ts","name":null,"original":{"line":117,"column":42},"generated":{"line":1,"column":1550}},{"source":"util/recordbatch.ts","name":null,"original":{"line":117,"column":55},"generated":{"line":1,"column":1552}},{"source":"util/recordbatch.ts","name":null,"original":{"line":117,"column":68},"generated":{"line":1,"column":1554}},{"source":"util/recordbatch.ts","name":null,"original":{"line":117,"column":77},"generated":{"line":1,"column":1556}},{"source":"util/recordbatch.ts","name":null,"original":{"line":120,"column":4},"generated":{"line":1,"column":1561}},{"source":"util/recordbatch.ts","name":null,"original":{"line":120,"column":11},"generated":{"line":1,"column":1568}},{"source":"util/recordbatch.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":1,"column":1570}},{"source":"util/recordbatch.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":1,"column":1578}},{"source":"util/recordbatch.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":1,"column":1599}},{"source":"util/recordbatch.ts","name":null,"original":{"line":57,"column":0},"generated":{"line":1,"column":1601}},{"source":"util/recordbatch.ts","name":null,"original":{"line":57,"column":0},"generated":{"line":1,"column":1609}},{"source":"util/recordbatch.ts","name":null,"original":{"line":57,"column":0},"generated":{"line":1,"column":1644}},{"source":"util/recordbatch.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":1646}},{"source":"util/recordbatch.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":1654}},{"source":"util/recordbatch.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":1689}}],"sources":{"util/recordbatch.ts":"// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\nimport { Column } from '../column';\nimport { Vector } from '../vector';\nimport { DataType } from '../type';\nimport { Data, Buffers } from '../data';\nimport { Schema, Field } from '../schema';\nimport { Chunked } from '../vector/chunked';\nimport { RecordBatch } from '../recordbatch';\n\nconst noopBuf = new Uint8Array(0);\nconst nullBufs = (bitmapLength: number) => <unknown> [\n    noopBuf, noopBuf, new Uint8Array(bitmapLength), noopBuf\n] as Buffers<any>;\n\n/** @ignore */\nexport function ensureSameLengthData<T extends { [key: string]: DataType } = any>(\n    schema: Schema<T>,\n    chunks: Data<T[keyof T]>[],\n    batchLength = chunks.reduce((l, c) => Math.max(l, c.length), 0)\n) {\n    let data: Data<T[keyof T]>;\n    let field: Field<T[keyof T]>;\n    let i = -1;\n    const n = chunks.length;\n    const fields = [...schema.fields];\n    const batchData = [] as Data<T[keyof T]>[];\n    const bitmapLength = ((batchLength + 63) & ~63) >> 3;\n    while (++i < n) {\n        if ((data = chunks[i]) && data.length === batchLength) {\n            batchData[i] = data;\n        } else {\n            (field = fields[i]).nullable || (fields[i] = fields[i].clone({ nullable: true }) as Field<T[keyof T]>);\n            batchData[i] = data ? data._changeLengthAndBackfillNullBitmap(batchLength)\n                : Data.new(field.type, 0, batchLength, batchLength, nullBufs(bitmapLength)) as Data<T[keyof T]>;\n        }\n    }\n    return [new Schema<T>(fields), batchLength, batchData] as [Schema<T>, number, Data<T[keyof T]>[]];\n}\n\n/** @ignore */\nexport function distributeColumnsIntoRecordBatches<T extends { [key: string]: DataType } = any>(columns: Column<T[keyof T]>[]): [Schema<T>, RecordBatch<T>[]] {\n    return distributeVectorsIntoRecordBatches<T>(new Schema<T>(columns.map(({ field }) => field)), columns);\n}\n\n/** @ignore */\nexport function distributeVectorsIntoRecordBatches<T extends { [key: string]: DataType } = any>(schema: Schema<T>, vecs: (Vector<T[keyof T]> | Chunked<T[keyof T]>)[]): [Schema<T>, RecordBatch<T>[]] {\n    return uniformlyDistributeChunksAcrossRecordBatches<T>(schema, vecs.map((v) => v instanceof Chunked ? v.chunks.map((c) => c.data) : [v.data]));\n}\n\n/** @ignore */\nfunction uniformlyDistributeChunksAcrossRecordBatches<T extends { [key: string]: DataType } = any>(schema: Schema<T>, columns: Data<T[keyof T]>[][]): [Schema<T>, RecordBatch<T>[]] {\n\n    const fields = [...schema.fields];\n    const batchArgs = [] as [number, Data<T[keyof T]>[]][];\n    const memo = { numBatches: columns.reduce((n, c) => Math.max(n, c.length), 0) };\n\n    let numBatches = 0, batchLength = 0;\n    let i = -1;\n    const numColumns = columns.length;\n    let child: Data<T[keyof T]>, childData: Data<T[keyof T]>[] = [];\n\n    while (memo.numBatches-- > 0) {\n\n        for (batchLength = Number.POSITIVE_INFINITY, i = -1; ++i < numColumns;) {\n            childData[i] = child = columns[i].shift()!;\n            batchLength = Math.min(batchLength, child ? child.length : batchLength);\n        }\n\n        if (isFinite(batchLength)) {\n            childData = distributeChildData(fields, batchLength, childData, columns, memo);\n            if (batchLength > 0) {\n                batchArgs[numBatches++] = [batchLength, childData.slice()];\n            }\n        }\n    }\n    return [\n        schema = new Schema<T>(fields, schema.metadata),\n        batchArgs.map((xs) => new RecordBatch(schema, ...xs))\n    ];\n}\n\n/** @ignore */\nfunction distributeChildData<T extends { [key: string]: DataType } = any>(fields: Field<T[keyof T]>[], batchLength: number, childData: Data<T[keyof T]>[], columns: Data<T[keyof T]>[][], memo: { numBatches: number }) {\n    let data: Data<T[keyof T]>;\n    let field: Field<T[keyof T]>;\n    let length = 0, i = -1;\n    const n = columns.length;\n    const bitmapLength = ((batchLength + 63) & ~63) >> 3;\n    while (++i < n) {\n        if ((data = childData[i]) && ((length = data.length) >= batchLength)) {\n            if (length === batchLength) {\n                childData[i] = data;\n            } else {\n                childData[i] = data.slice(0, batchLength);\n                data = data.slice(batchLength, length - batchLength);\n                memo.numBatches = Math.max(memo.numBatches, columns[i].unshift(data));\n            }\n        } else {\n            (field = fields[i]).nullable || (fields[i] = field.clone({ nullable: true }) as Field<T[keyof T]>);\n            childData[i] = data ? data._changeLengthAndBackfillNullBitmap(batchLength)\n                : Data.new(field.type, 0, batchLength, batchLength, nullBufs(bitmapLength)) as Data<T[keyof T]>;\n        }\n    }\n    return childData;\n}\n"},"lineCount":null}},"error":null,"hash":"0d4fa745fa1e25d561879a5336b5c653","cacheData":{"env":{}}}