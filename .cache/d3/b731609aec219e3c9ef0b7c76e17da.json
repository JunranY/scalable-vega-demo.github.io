{"id":"node_modules/apache-arrow/builder/index.js","dependencies":[{"name":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js.map","includedInParent":true,"mtime":1620712940685},{"name":"/Users/yangjunran/Desktop/github/sv-demo/package.json","includedInParent":true,"mtime":1620836303330},{"name":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/package.json","includedInParent":true,"mtime":1620712940685},{"name":"../builder","loc":{"line":86,"column":26},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder.js"},{"name":"./bool","loc":{"line":23,"column":21},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/bool.js"},{"name":"./null","loc":{"line":25,"column":21},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/null.js"},{"name":"./date","loc":{"line":27,"column":21},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/date.js"},{"name":"./decimal","loc":{"line":31,"column":24},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/decimal.js"},{"name":"./dictionary","loc":{"line":33,"column":27},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/dictionary.js"},{"name":"./fixedsizebinary","loc":{"line":35,"column":32},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/fixedsizebinary.js"},{"name":"./float","loc":{"line":37,"column":22},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/float.js"},{"name":"./int","loc":{"line":42,"column":20},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/int.js"},{"name":"./time","loc":{"line":52,"column":21},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/time.js"},{"name":"./timestamp","loc":{"line":58,"column":26},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/timestamp.js"},{"name":"./interval","loc":{"line":64,"column":25},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/interval.js"},{"name":"./utf8","loc":{"line":85,"column":23},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/utf8.js"},{"name":"./binary","loc":{"line":70,"column":23},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/binary.js"},{"name":"./list","loc":{"line":72,"column":21},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/list.js"},{"name":"./fixedsizelist","loc":{"line":74,"column":30},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/fixedsizelist.js"},{"name":"./map","loc":{"line":76,"column":20},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/map.js"},{"name":"./struct","loc":{"line":78,"column":23},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/struct.js"},{"name":"./union","loc":{"line":80,"column":22},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/union.js"},{"name":"../enum","loc":{"line":84,"column":23},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/enum.js"},{"name":"../visitor/set","loc":{"line":87,"column":22},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/visitor/set.js"},{"name":"../visitor/builderctor","loc":{"line":88,"column":30},"parent":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/builder/index.js","resolved":"/Users/yangjunran/Desktop/github/sv-demo/node_modules/apache-arrow/visitor/builderctor.js"}],"generated":{"js":"\"use strict\";\n// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DenseUnionBuilder = exports.SparseUnionBuilder = exports.UnionBuilder = exports.StructBuilder = exports.MapBuilder = exports.FixedSizeListBuilder = exports.ListBuilder = exports.BinaryBuilder = exports.Utf8Builder = exports.IntervalYearMonthBuilder = exports.IntervalDayTimeBuilder = exports.IntervalBuilder = exports.TimestampNanosecondBuilder = exports.TimestampMicrosecondBuilder = exports.TimestampMillisecondBuilder = exports.TimestampSecondBuilder = exports.TimestampBuilder = exports.TimeNanosecondBuilder = exports.TimeMicrosecondBuilder = exports.TimeMillisecondBuilder = exports.TimeSecondBuilder = exports.TimeBuilder = exports.Uint64Builder = exports.Uint32Builder = exports.Uint16Builder = exports.Uint8Builder = exports.Int64Builder = exports.Int32Builder = exports.Int16Builder = exports.Int8Builder = exports.IntBuilder = exports.Float64Builder = exports.Float32Builder = exports.Float16Builder = exports.FloatBuilder = exports.FixedSizeBinaryBuilder = exports.DictionaryBuilder = exports.DecimalBuilder = exports.DateMillisecondBuilder = exports.DateDayBuilder = exports.DateBuilder = exports.NullBuilder = exports.BoolBuilder = exports.Builder = void 0;\n/** @ignore */\nvar builder_1 = require(\"../builder\");\nObject.defineProperty(exports, \"Builder\", { enumerable: true, get: function () { return builder_1.Builder; } });\nvar bool_1 = require(\"./bool\");\nObject.defineProperty(exports, \"BoolBuilder\", { enumerable: true, get: function () { return bool_1.BoolBuilder; } });\nvar null_1 = require(\"./null\");\nObject.defineProperty(exports, \"NullBuilder\", { enumerable: true, get: function () { return null_1.NullBuilder; } });\nvar date_1 = require(\"./date\");\nObject.defineProperty(exports, \"DateBuilder\", { enumerable: true, get: function () { return date_1.DateBuilder; } });\nObject.defineProperty(exports, \"DateDayBuilder\", { enumerable: true, get: function () { return date_1.DateDayBuilder; } });\nObject.defineProperty(exports, \"DateMillisecondBuilder\", { enumerable: true, get: function () { return date_1.DateMillisecondBuilder; } });\nvar decimal_1 = require(\"./decimal\");\nObject.defineProperty(exports, \"DecimalBuilder\", { enumerable: true, get: function () { return decimal_1.DecimalBuilder; } });\nvar dictionary_1 = require(\"./dictionary\");\nObject.defineProperty(exports, \"DictionaryBuilder\", { enumerable: true, get: function () { return dictionary_1.DictionaryBuilder; } });\nvar fixedsizebinary_1 = require(\"./fixedsizebinary\");\nObject.defineProperty(exports, \"FixedSizeBinaryBuilder\", { enumerable: true, get: function () { return fixedsizebinary_1.FixedSizeBinaryBuilder; } });\nvar float_1 = require(\"./float\");\nObject.defineProperty(exports, \"FloatBuilder\", { enumerable: true, get: function () { return float_1.FloatBuilder; } });\nObject.defineProperty(exports, \"Float16Builder\", { enumerable: true, get: function () { return float_1.Float16Builder; } });\nObject.defineProperty(exports, \"Float32Builder\", { enumerable: true, get: function () { return float_1.Float32Builder; } });\nObject.defineProperty(exports, \"Float64Builder\", { enumerable: true, get: function () { return float_1.Float64Builder; } });\nvar int_1 = require(\"./int\");\nObject.defineProperty(exports, \"IntBuilder\", { enumerable: true, get: function () { return int_1.IntBuilder; } });\nObject.defineProperty(exports, \"Int8Builder\", { enumerable: true, get: function () { return int_1.Int8Builder; } });\nObject.defineProperty(exports, \"Int16Builder\", { enumerable: true, get: function () { return int_1.Int16Builder; } });\nObject.defineProperty(exports, \"Int32Builder\", { enumerable: true, get: function () { return int_1.Int32Builder; } });\nObject.defineProperty(exports, \"Int64Builder\", { enumerable: true, get: function () { return int_1.Int64Builder; } });\nObject.defineProperty(exports, \"Uint8Builder\", { enumerable: true, get: function () { return int_1.Uint8Builder; } });\nObject.defineProperty(exports, \"Uint16Builder\", { enumerable: true, get: function () { return int_1.Uint16Builder; } });\nObject.defineProperty(exports, \"Uint32Builder\", { enumerable: true, get: function () { return int_1.Uint32Builder; } });\nObject.defineProperty(exports, \"Uint64Builder\", { enumerable: true, get: function () { return int_1.Uint64Builder; } });\nvar time_1 = require(\"./time\");\nObject.defineProperty(exports, \"TimeBuilder\", { enumerable: true, get: function () { return time_1.TimeBuilder; } });\nObject.defineProperty(exports, \"TimeSecondBuilder\", { enumerable: true, get: function () { return time_1.TimeSecondBuilder; } });\nObject.defineProperty(exports, \"TimeMillisecondBuilder\", { enumerable: true, get: function () { return time_1.TimeMillisecondBuilder; } });\nObject.defineProperty(exports, \"TimeMicrosecondBuilder\", { enumerable: true, get: function () { return time_1.TimeMicrosecondBuilder; } });\nObject.defineProperty(exports, \"TimeNanosecondBuilder\", { enumerable: true, get: function () { return time_1.TimeNanosecondBuilder; } });\nvar timestamp_1 = require(\"./timestamp\");\nObject.defineProperty(exports, \"TimestampBuilder\", { enumerable: true, get: function () { return timestamp_1.TimestampBuilder; } });\nObject.defineProperty(exports, \"TimestampSecondBuilder\", { enumerable: true, get: function () { return timestamp_1.TimestampSecondBuilder; } });\nObject.defineProperty(exports, \"TimestampMillisecondBuilder\", { enumerable: true, get: function () { return timestamp_1.TimestampMillisecondBuilder; } });\nObject.defineProperty(exports, \"TimestampMicrosecondBuilder\", { enumerable: true, get: function () { return timestamp_1.TimestampMicrosecondBuilder; } });\nObject.defineProperty(exports, \"TimestampNanosecondBuilder\", { enumerable: true, get: function () { return timestamp_1.TimestampNanosecondBuilder; } });\nvar interval_1 = require(\"./interval\");\nObject.defineProperty(exports, \"IntervalBuilder\", { enumerable: true, get: function () { return interval_1.IntervalBuilder; } });\nObject.defineProperty(exports, \"IntervalDayTimeBuilder\", { enumerable: true, get: function () { return interval_1.IntervalDayTimeBuilder; } });\nObject.defineProperty(exports, \"IntervalYearMonthBuilder\", { enumerable: true, get: function () { return interval_1.IntervalYearMonthBuilder; } });\nvar utf8_1 = require(\"./utf8\");\nObject.defineProperty(exports, \"Utf8Builder\", { enumerable: true, get: function () { return utf8_1.Utf8Builder; } });\nvar binary_1 = require(\"./binary\");\nObject.defineProperty(exports, \"BinaryBuilder\", { enumerable: true, get: function () { return binary_1.BinaryBuilder; } });\nvar list_1 = require(\"./list\");\nObject.defineProperty(exports, \"ListBuilder\", { enumerable: true, get: function () { return list_1.ListBuilder; } });\nvar fixedsizelist_1 = require(\"./fixedsizelist\");\nObject.defineProperty(exports, \"FixedSizeListBuilder\", { enumerable: true, get: function () { return fixedsizelist_1.FixedSizeListBuilder; } });\nvar map_1 = require(\"./map\");\nObject.defineProperty(exports, \"MapBuilder\", { enumerable: true, get: function () { return map_1.MapBuilder; } });\nvar struct_1 = require(\"./struct\");\nObject.defineProperty(exports, \"StructBuilder\", { enumerable: true, get: function () { return struct_1.StructBuilder; } });\nvar union_1 = require(\"./union\");\nObject.defineProperty(exports, \"UnionBuilder\", { enumerable: true, get: function () { return union_1.UnionBuilder; } });\nObject.defineProperty(exports, \"SparseUnionBuilder\", { enumerable: true, get: function () { return union_1.SparseUnionBuilder; } });\nObject.defineProperty(exports, \"DenseUnionBuilder\", { enumerable: true, get: function () { return union_1.DenseUnionBuilder; } });\nconst enum_1 = require(\"../enum\");\nconst utf8_2 = require(\"./utf8\");\nconst builder_2 = require(\"../builder\");\nconst set_1 = require(\"../visitor/set\");\nconst builderctor_1 = require(\"../visitor/builderctor\");\n/** @nocollapse */\nbuilder_2.Builder.new = newBuilder;\nfunction newBuilder(options) {\n    const type = options.type;\n    const builder = new (builderctor_1.instance.getVisitFn(type)())(options);\n    if (type.children && type.children.length > 0) {\n        const children = options['children'] || [];\n        const defaultOptions = { 'nullValues': options['nullValues'] };\n        const getChildOptions = Array.isArray(children)\n            ? ((_, i) => children[i] || defaultOptions)\n            : (({ name }) => children[name] || defaultOptions);\n        type.children.forEach((field, index) => {\n            const { type } = field;\n            const opts = getChildOptions(field, index);\n            builder.children.push(newBuilder({ ...opts, type }));\n        });\n    }\n    return builder;\n}\nObject.keys(enum_1.Type)\n    .map((T) => enum_1.Type[T])\n    .filter((T) => typeof T === 'number' && T !== enum_1.Type.NONE)\n    .forEach((typeId) => {\n    const BuilderCtor = builderctor_1.instance.visit(typeId);\n    BuilderCtor.prototype._setValue = set_1.instance.getVisitFn(typeId);\n});\nutf8_2.Utf8Builder.prototype._setValue = set_1.instance.visitBinary;\n\n\n"},"sourceMaps":{"js":{"version":3,"sources":["builder/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n/** @ignore */\nexport { Builder, BuilderOptions } from '../builder';\nexport { BoolBuilder } from './bool';\nexport { NullBuilder } from './null';\nexport { DateBuilder, DateDayBuilder, DateMillisecondBuilder } from './date';\nexport { DecimalBuilder } from './decimal';\nexport { DictionaryBuilder } from './dictionary';\nexport { FixedSizeBinaryBuilder } from './fixedsizebinary';\nexport { FloatBuilder, Float16Builder, Float32Builder, Float64Builder } from './float';\nexport { IntBuilder, Int8Builder, Int16Builder, Int32Builder, Int64Builder, Uint8Builder, Uint16Builder, Uint32Builder, Uint64Builder } from './int';\nexport { TimeBuilder, TimeSecondBuilder, TimeMillisecondBuilder, TimeMicrosecondBuilder, TimeNanosecondBuilder } from './time';\nexport { TimestampBuilder, TimestampSecondBuilder, TimestampMillisecondBuilder, TimestampMicrosecondBuilder, TimestampNanosecondBuilder } from './timestamp';\nexport { IntervalBuilder, IntervalDayTimeBuilder, IntervalYearMonthBuilder } from './interval';\nexport { Utf8Builder } from './utf8';\nexport { BinaryBuilder } from './binary';\nexport { ListBuilder } from './list';\nexport { FixedSizeListBuilder } from './fixedsizelist';\nexport { MapBuilder } from './map';\nexport { StructBuilder } from './struct';\nexport { UnionBuilder, SparseUnionBuilder, DenseUnionBuilder } from './union';\n\nimport { Type } from '../enum';\nimport { Field } from '../schema';\nimport { DataType } from '../type';\nimport { Utf8Builder } from './utf8';\nimport { BuilderType as B } from '../interfaces';\nimport { Builder, BuilderOptions } from '../builder';\nimport { instance as setVisitor } from '../visitor/set';\nimport { instance as getBuilderConstructor } from '../visitor/builderctor';\n\n/** @nocollapse */\nBuilder.new = newBuilder;\n\nfunction newBuilder<T extends DataType = any, TNull = any>(options: BuilderOptions<T, TNull>): B<T, TNull> {\n\n    const type = options.type;\n    const builder = new (getBuilderConstructor.getVisitFn<T>(type)())(options) as Builder<T, TNull>;\n\n    if (type.children && type.children.length > 0) {\n\n        const children = options['children'] || [] as BuilderOptions[];\n        const defaultOptions = { 'nullValues': options['nullValues'] };\n        const getChildOptions = Array.isArray(children)\n            ? ((_: Field, i: number) => children[i] || defaultOptions)\n            : (({ name }: Field) => children[name] || defaultOptions);\n\n        type.children.forEach((field, index) => {\n            const { type } = field;\n            const opts = getChildOptions(field, index);\n            builder.children.push(newBuilder({ ...opts, type }));\n        });\n    }\n\n    return builder as B<T, TNull>;\n}\n\n(Object.keys(Type) as any[])\n    .map((T: any) => Type[T] as any)\n    .filter((T: any): T is Type => typeof T === 'number' && T !== Type.NONE)\n    .forEach((typeId) => {\n        const BuilderCtor = getBuilderConstructor.visit(typeId);\n        BuilderCtor.prototype._setValue = setVisitor.getVisitFn(typeId);\n    });\n\n(Utf8Builder.prototype as any)._setValue = setVisitor.visitBinary;\n"]}},"error":null,"hash":"a9ba3e81bbf852566f381128ccff7c8d","cacheData":{"env":{}}}